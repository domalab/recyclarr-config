# Media Naming Configuration
media_naming:
  series: default
  season: default
  episodes:
    rename: true

# Quality definitions from the guide to sync to Sonarr. Choices: series, anime
quality_definition:
  type: series

quality_profiles:
  - name: Sonos-Optimized
    reset_unmatched_scores:
      enabled: true
    upgrade:
      allowed: true
      until_quality: Bluray-2160p
    min_format_score: 0
    score_set: sqp-1-2160p
    qualities:
      - name: Bluray-2160p
        enabled: true
      - name: Web 2160p
        qualities:
          - WEBRip-2160p
          - WEBDL-2160p
      - name: Bluray-1080p Remux
        enabled: true
      - name: Bluray-1080p
      - name: Web 1080p
        qualities:
          - WEBRip-1080p
          - WEBDL-1080p
      - name: WEB 720p
        qualities:
          - WEBRip-720p
          - WEBDL-720p
      - name: Bluray-720p
      - name: Bluray-2160p Remux
        enabled: false

  - name: HD Only
    reset_unmatched_scores:
      enabled: true
    upgrade:
      allowed: true
      until_quality: Web 1080p
    min_format_score: 0
    score_set: default
    qualities:
      - name: Bluray-2160p Remux
        enabled: false
      - name: Bluray-2160p
        enabled: false
      - name: Web 2160p
        enabled: false
        qualities:
          - WEBRip-2160p
          - WEBDL-2160p
      - name: Bluray-1080p Remux
        enabled: true
      - name: Bluray-1080p
        enabled: true
      - name: Web 1080p
        enabled: true
        qualities:
          - WEBRip-1080p
          - WEBDL-1080p
      - name: Bluray-720p
        enabled: false
      - name: WEB 720p
        enabled: false
        qualities:
          - WEBRip-720p
          - WEBDL-720p
      - name: Bluray-480p
        enabled: false
      - name: WEB 480p
        enabled: false
        qualities:
          - WEBRip-480p
          - WEBDL-480p
      - name: DVD
        enabled: false
      - name: SDTV
        enabled: false

custom_formats:
# PREFERRED AUDIO FORMATS FOR SONOS ARC + APPLE TV 4K (SONARR IDs)
  - trash_ids:
      - 4232a509ce60c4e208d13825b7c06264 # DD+ ATMOS (Sonarr)
    assign_scores_to:
      - name: Sonos-Optimized
        score: 8000
      - name: HD Only
        score: 8000

  - trash_ids:
      - 63487786a8b01b7f20dd2bc90dd4a477 # DD+ (Sonarr)
    assign_scores_to:
      - name: Sonos-Optimized
        score: 6000
      - name: HD Only
        score: 6000

  - trash_ids:
      - dbe00161b08a25ac6154c55f95e6318d # DD (Sonarr)
    assign_scores_to:
      - name: Sonos-Optimized
        score: 4000
      - name: HD Only
        score: 4000

  - trash_ids:
      - b6fbafa7942952a13e17e2b1152b539a # ATMOS (undefined) (Sonarr)
    assign_scores_to:
      - name: Sonos-Optimized
        score: -5000  # Block ambiguous ATMOS
      - name: HD Only
        score: -5000  # Block ambiguous ATMOS

# INCOMPATIBLE AUDIO FORMATS - BLOCK THESE FOR SONOS/APPLE TV (SONARR IDs)
  - trash_ids:
      - 0d7824bb924701997f874e7ff7d4844a # TrueHD ATMOS (Sonarr)
    assign_scores_to:
      - name: Sonos-Optimized
        score: -10000  # BLOCK completely
      - name: HD Only
        score: -10000  # BLOCK completely

  - trash_ids:
      - 1808e4b9cee74e064dfae3f1db99dbfe # TrueHD (Sonarr)
    assign_scores_to:
      - name: Sonos-Optimized
        score: -8000   # BLOCK completely
      - name: HD Only
        score: -8000   # BLOCK completely

  - trash_ids:
      - 9d00418ba386a083fbf4d58235fc37ef # DTS X (Sonarr)
    assign_scores_to:
      - name: Sonos-Optimized
        score: -10000  # BLOCK completely
      - name: HD Only
        score: -10000  # BLOCK completely

  - trash_ids:
      - 5964f2a8b3be407d083498e4459d05d0 # DTS (Sonarr)
    assign_scores_to:
      - name: Sonos-Optimized
        score: -8000   # BLOCK completely
      - name: HD Only
        score: -8000   # BLOCK completely

  # PREMIUM VIDEO FORMATS FOR YOUR 4K DOLBY VISION TV
  - trash_ids:
      # DOLBY VISION PRIORITIES (Your TV's Best Formats)
      - 2b239ed870daba8126a53bd5dc8dc1c8 # DV HDR10Plus
      - 7878c33f1963fefb3d6c8657d46c2f0a # DV HDR10
    assign_scores_to:
      - name: Sonos-Optimized
        score: 2500  # Highest video priority

  - trash_ids:
      # DOLBY VISION VARIANTS
      - 1f733af03141f068a540eec352589a89 # DV HLG
      - 27954b0a80aab882522a88a4d9eae1cd # DV SDR
      - 6d0d8de7b57e35518ac0308b0ddf404e # DV
    assign_scores_to:
      - name: Sonos-Optimized
        score: 2200  # Very high priority

  - trash_ids:
      # HDR FORMATS (Excellent for your 4K TV)
      - 3e2c4e748b64a1a1118e0ea3f4cf6875 # HDR
      - 3497799d29a085e2ac2df9d468413c94 # HDR10
      - a3d82cbef5039f8d295478d28a887159 # HDR10+
      - bb019e1cd00f304f80971c965de064dc # HDR (undefined)
      - 17e889ce13117940092308f48b48b45b # HLG
      - 2a7e3be05d3861d6df7171ec74cad727 # PQ
    assign_scores_to:
      - name: Sonos-Optimized
        score: 2000  # High video priority

  # RESOLUTION PREFERENCES (4K Prioritization)
  - trash_ids:
      - 1bef6c151fa35093015b0bfef18279e5 # 2160p
    assign_scores_to:
      - name: Sonos-Optimized
        score: 1800  # Strongly prefer 4K

  - trash_ids:
      - 290078c8b266272a5cc8e251b5e2eb0b # 1080p  
    assign_scores_to:
      - name: Sonos-Optimized
        score: 800   # Good fallback
      - name: HD Only
        score: 1500

  # PREMIUM RELEASE GROUPS (Best Quality Sources)
  - trash_ids:
      # WEB Tier Scoring (Premium Streaming Quality)
      - e6258996055b9fbab7e9cb2f75819294 # WEB Tier 01
      - 58790d4e2fdcd9733aa7ae68ba2bb503 # WEB Tier 02
      - d84935abd3f8556dcd51d4f27e22d0a6 # WEB Tier 03
    assign_scores_to:
      - name: Sonos-Optimized
        score: 1500  # High quality web sources
      - name: HD Only

  # Remux Tier Scoring (Ultimate Quality) - REMOVED FROM SONOS-OPTIMIZED
  - trash_ids:
      - 9965a052eb87b0d10313b1cea89eb451 # Remux Tier 01
      - 8a1d0c3d7497e741736761a1da866a2e # Remux Tier 02
    assign_scores_to: []

  # UNWANTED FORMATS (Block Poor Quality)
  - trash_ids:
      - 85c61753df5da1fb2aab6f2a47426b09 # BR-DISK
      - 9c11cd3f07101cdba90a2d81cf0e56b4 # LQ
      - e2315f990da2e2cbfc9fa5b7a6fcfe48 # LQ (Release Title)
      - 47435ece6b99a0b477caf360e79ba0bb # x265 (HD)
      - fbcb31d8dabd2a319072b84fc0b7249c # Extras
    assign_scores_to:
      - name: Sonos-Optimized
        score: -1000  # Block poor quality
      - name: HD Only
        score: -1000

  # REPACK / PROPER (Always Preferred)
  - trash_ids:
      - ec8fa7296b64e8cd390a1600981f3923 # Repack/Proper
      - eb3d5cc0a2be0db205fb823640db6a3c # Repack v2
      - 44e7c4de10ae50265753082e5dc76047 # Repack v3
    assign_scores_to:
      - name: Sonos-Optimized
        score: 500   # Always prefer proper releases
      - name: HD Only
        score: 500

  # STREAMING SERVICES (Quality Indicators)
  - trash_ids:
      - d660701077794679fd59e8bdf4ce3a29 # AMZN
      - f67c9ca88f463a48346062e8ad07713f # ATVP
      - 89358767a60cc28783cdc3d0be9388a4 # DSNP
      - 7a235133c87f7da4c8cccceca7e3c7a6 # HBO
      - a880d6abc21e7c16884f3ae393f84179 # HMAX
      - f6cce30f1733d5c8194222a7507909bb # HULU
      - 81d1fbf600e2540cee87f3a23f9d3c1c # MAX
      - d34870697c9db575f17700212167be23 # NF
      - 1656adc6d7bb2c8cca6acfb6592db421 # PCOK
    assign_scores_to:
      - name: Sonos-Optimized
        score: 100   # Slight preference for major services
      - name: HD Only
        score: 100
